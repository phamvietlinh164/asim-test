(this.webpackJsonpmedpro_form_content=this.webpackJsonpmedpro_form_content||[]).push([[0],{215:function(e,t,n){e.exports=n(404)},220:function(e,t,n){},221:function(e,t,n){},355:function(e,t,n){},372:function(e,t,n){},386:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"DOMAIN_URL",(function(){return S})),n.d(a,"RESTFULL_API_URL_V2",(function(){return w})),n.d(a,"COOKIE_EXPIRES",(function(){return x})),n.d(a,"SOCKET_CHAT",(function(){return T}));var r={};n.r(r),n.d(r,"DOMAIN_URL",(function(){return k})),n.d(r,"RESTFULL_API_URL_V2",(function(){return U})),n.d(r,"COOKIE_EXPIRES",(function(){return N})),n.d(r,"SOCKET_CHAT",(function(){return F}));var o={};n.r(o),n.d(o,"DOMAIN_URL",(function(){return D})),n.d(o,"RESTFULL_API_URL_V2",(function(){return M})),n.d(o,"COOKIE_EXPIRES",(function(){return R})),n.d(o,"SOCKET_CHAT",(function(){return G}));var c={};n.r(c),n.d(c,"DOMAIN_URL",(function(){return H})),n.d(c,"RESTFULL_API_URL_V2",(function(){return P})),n.d(c,"COOKIE_EXPIRES",(function(){return V})),n.d(c,"SOCKET_CHAT",(function(){return W}));var s=n(0),i=n.n(s),l=n(25),u=n.n(l),p=(n(220),n(40)),m=n(41),d=n(43),f=n(42),h=(n(221),n(47)),b=n(76),g=n(37),E=(n(111),n(56)),O=(n(227),n(62)),v=function(e){return{type:"SET_LOGIN",isLogin:e}},I=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={current:""},e.handleClick=function(t){e.setState({current:t.key})},e.logout=function(){localStorage.setItem("token",""),e.props.setLogin(!1)},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state.current;return i.a.createElement(E.a,{justify:"center"},i.a.createElement(O.a,{onClick:this.handleClick,selectedKeys:[e],mode:"horizontal"},i.a.createElement(O.a.Item,{key:"hospital-content"},i.a.createElement(b.b,{to:"/hospital-content"},"Hospital Content")),i.a.createElement(O.a.Item,{key:"app-icon"},i.a.createElement(b.b,{to:"/app-icon"},"App Icon")),this.props.isLogin?i.a.createElement(O.a.Item,{key:"logout",onClick:this.logout},"Logout"):i.a.createElement(O.a.Item,{key:"login"},i.a.createElement(b.b,{to:"/login"},"Login"))))}}]),n}(i.a.Component),_=Object(g.b)((function(e){return{isLogin:e.checkAuth}}),(function(e){return{setLogin:function(t){e(v(t))}}}))(I),L=(n(75),n(39)),j=(n(170),n(66)),y=(n(143),n(72)),A=n(59),C=n.n(A),S="http://localhost:6700",w="https://medpro-api-v2-testing.medpro.com.vn",x=43200,T="wss://socket.pkh.vn/cable",k=window.location.origin,U="https://medpro-api-v2-testing.medpro.com.vn",N=43200,F="wss://alpha-api.medpro.com.vn/cable",D="https://static-inside-testing.medpro.com.vn",M="https://medpro-api-v2-testing.medpro.com.vn",R=43200,G="wss://alpha-api.medpro.com.vn/cable",H="https://static-inside-testing.medpro.com.vn",P="https://medpro-api-v2-testing.medpro.com.vn",V=43200,W="wss://alpha-api.medpro.com.vn/cable",K={development:a,testing:o,staging:c,production:r},z=K.production,B={labelCol:{span:8},wrapperCol:{span:8}},Y={wrapperCol:{offset:8,span:16}},q=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){C.a.post("".concat(z.DOMAIN_URL,"/login"),{username:t.username,password:t.password}).then((function(t){t.data?(localStorage.setItem("token",t.data),e.props.setLogin(!0),e.props.history.push("/hospital-content")):alert("Wrong username or password!")})).catch((function(e){console.log(e),alert("Some error have happened!")}))},e.onFinishFailed=function(e){console.log("Failed:",e)},e.componentDidMount=function(){e.props.location.state&&e.props.location.state.message&&alert(e.props.location.state.message)},e}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(j.a,Object.assign({},B,{name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed}),i.a.createElement(j.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},i.a.createElement(y.a,null)),i.a.createElement(j.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},i.a.createElement(y.a.Password,null)),i.a.createElement(j.a.Item,Y,i.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Submit"))))}}]),n}(i.a.Component),X=Object(g.b)(null,(function(e){return{setLogin:function(t){e(v(t))}}}))(q),J=(n(147),n(52)),$=(n(149),n(99)),Q=(n(104),n(49)),Z=n(407),ee=n(408);n(355);function te(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}var ne=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,imageUrl:"".concat(z.DOMAIN_URL,"/static/upload/hospitals/").concat(e.props.hospital,"/").concat(e.props.name,".").concat(e.props.typeUrl,"?").concat((new Date).getTime()),isOnSize:!1},e.handleChange=function(t){"uploading"!==t.file.status?("done"===t.file.status&&te(t.file.originFileObj,(function(t){e.setState({imageUrl:"".concat(z.DOMAIN_URL,"/static/upload/hospitals/").concat(e.props.hospital,"/").concat(e.props.name,".").concat(e.props.typeUrl,"?").concat((new Date).getTime()),loading:!1})})),"error"===t.file.status&&401===t.file.error.status&&Q.a.error("You are not loggin!")):e.setState({loading:!0})},e.beforeUpload=function(t){return new Promise((function(n,a){var r=t.type===e.props.type;r||Q.a.error("You can only upload ".concat(e.props.type," file!"));var o=t.size/1024/1024<5;o||Q.a.error("Image must smaller than 5MB!");var c=new Image;c.src=window.URL.createObjectURL(t),c.onload=function(){r&&o&&c.width>100?n(t):a("abc")}}))},e.UNSAFE_componentWillReceiveProps=function(t){e.setState({imageUrl:"".concat(z.DOMAIN_URL,"/static/upload/hospitals/").concat(t.hospital,"/").concat(t.name,".").concat(e.props.typeUrl)})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=i.a.createElement("div",null,this.state.loading?i.a.createElement(Z.a,null):i.a.createElement(ee.a,null),i.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return i.a.createElement("div",{className:"upload"},i.a.createElement($.a,{name:this.props.fieldName,listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat(z.DOMAIN_URL,"/upload"),headers:{hospital:this.props.hospital,name:this.props.name,token:"".concat(localStorage.getItem("token"))},beforeUpload:this.beforeUpload,onChange:this.handleChange},t?i.a.createElement("img",{src:t,alt:"",style:{maxHeight:"86px",maxWidth:"86px"}}):e),i.a.createElement("p",null,this.props.label),i.a.createElement("br",null))}}]),n}(i.a.Component),ae=Object(h.f)(ne),re=n(85),oe=n(409),ce=n(410),se=(n(372),function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={fileList:[]},e.handleChange=function(t){var n=Object(re.a)(t.fileList);(n=n.slice(-1)).length>0&&n[0].type!==e.props.type&&(n[0].status="error"),e.setState({fileList:n}),"error"===t.file.status&&401===t.file.response.statusCode&&e.props.history.push({pathname:"/login",state:{message:"Login to upload!"}})},e.beforeUpload=function(t){var n=t.type===e.props.type;n||Q.a.error("You can only upload ".concat(e.props.type," file!"));var a=t.size/1024/1024<5;return a||Q.a.error("File must smaller than 5MB!"),n&&a},e.onClick=function(){var t=e.props.manageContent.partnerId;C()({url:"".concat(z.DOMAIN_URL,"/download/client-upload-hospitals-").concat(t,"-content.json"),method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","content.json"),document.body.appendChild(n),n.click()})).catch((function(e){alert("Some error happen!")}))},e}return Object(m.a)(n,[{key:"render",value:function(){var e={name:this.props.fieldName,action:"".concat(z.DOMAIN_URL,"/").concat(this.props.action),headers:{hospital:this.props.hospital,name:this.props.name,token:"".concat(localStorage.getItem("token"))},onChange:this.handleChange,beforeUpload:this.beforeUpload,multiple:!0};return i.a.createElement("div",{className:"upload"},i.a.createElement("div",{className:"up_cont"},i.a.createElement($.a,Object.assign({},e,{fileList:this.state.fileList}),i.a.createElement(L.a,null,i.a.createElement(oe.a,null)," Upload")),i.a.createElement("div",{className:"download-but"},i.a.createElement(L.a,{type:"primary",icon:i.a.createElement(ce.a,null),size:"small",onClick:this.onClick},"Download"))),i.a.createElement("p",null,this.props.label),i.a.createElement("br",null))}}]),n}(i.a.Component)),ie=Object(g.b)((function(e){return{manageContent:e.manageContent}}))(se),le=function(e){return{type:"GET_MANAGE_CONTENT",partnerId:e}},ue=function(e){return{type:"GET_DOMAIN_LIST",partnerId:e}},pe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).UNSAFE_componentWillReceiveProps=function(e){a.props.manageContent.partnerId!==e.manageContent.partnerId&&a.setState({message:"",disabled:!0})},a.onClick=function(){if(a.state.disabled){a.setState({loading:!0});var e,t=a.props.manageContent.partnerId;C()({method:"get",url:"".concat(z.RESTFULL_API_URL_V2,"/mongo/hospital/danh-sach"),headers:{accept:"*/*",appid:"medpro"}}).then((function(n){n.data.forEach((function(n){n.partnerId===t&&(e=n.message)})),a.setState({disabled:!1,message:e,loading:!1})})).catch((function(e){console.log(e),a.setState({loading:!1})}))}else a.setState({disabled:!0,loading:!0}),C()({method:"post",url:"".concat(z.RESTFULL_API_URL_V2,"/mongo/hospital/update-message-partner"),headers:{accept:"*/*",appid:"medpro",ContentType:"application/json"},data:{partnerId:a.props.manageContent.partnerId,message:a.state.message}}).then((function(e){Q.a.success("Update message successfully!"),a.setState({loading:!1})})).catch((function(e){Q.a.success("Some error happen!"),a.setState({loading:!1})}))},a.onChange=function(e){a.setState({message:e.target.value})},a.state={message:"",disabled:!0,loading:!1},a}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement(E.a,{justify:"center"},i.a.createElement(J.a,{xs:24,sm:12,md:12,lg:19},i.a.createElement(y.a,{placeholder:"Enter your message",value:this.state.message,size:"middle",disabled:this.state.disabled,onChange:this.onChange})),i.a.createElement(J.a,{xs:24,sm:4,md:8,lg:3},i.a.createElement(L.a,{type:"primary",size:"middle",onClick:this.onClick,loading:this.state.loading},"Update Message")))}}]),n}(i.a.Component),me=Object(g.b)((function(e){return{manageContent:e.manageContent}}),(function(e){return{getManageContent:function(){e(le())}}}))(pe),de=(n(148),n(64)),fe=de.a.Option,he=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.getHospitalList()},e.handleChange=function(t){localStorage.setItem("hospital",t),e.props.getManageContent(t)},e.showOption=function(){return e.props.hospitalList.map((function(e,t){return i.a.createElement(fe,{value:e.partnerId,key:t},e.name)}))},e}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement(de.a,{defaultValue:this.props.default,style:{width:320},onChange:this.handleChange,size:"middle"},this.showOption())}}]),n}(i.a.Component),be=Object(g.b)((function(e){return{hospitalList:e.hospitalList}}),(function(e){return{getHospitalList:function(){e({type:"GET_HOSPITAL_LIST"})},getManageContent:function(t){e(le(t))}}}))(he),ge=(n(377),n(158)),Ee=(n(406),n(212)),Oe=n(22),ve=n(210),Ie=(n(405),n(160)),_e=(n(386),Ie.a.Column),Le=Object(g.b)((function(e){return{manageContent:e.manageContent}}),(function(e){return{getDomainList:function(t){e(ue(t))},addDomain:function(t){e(function(e){return{type:"ADD_DOMAIN",domain:e}}(t))}}}))((function(e){var t=j.a.useForm(),n=Object(ve.a)(t,1)[0];return i.a.createElement(j.a,{form:n,name:"horizontal_login",layout:"inline",onFinish:function(t){n.resetFields(),e.addDomain(Object(Oe.a)(Object(Oe.a)({},t),{},{partnerId:e.manageContent.partnerId}))}},i.a.createElement(j.a.Item,{name:"enviroment",rules:[{required:!0,message:"Can not be empty!"}]},i.a.createElement(y.a,{placeholder:"Enviroment"})),i.a.createElement(j.a.Item,{name:"domain",rules:[{required:!0,message:"Can not be empty!"}]},i.a.createElement(y.a,{placeholder:"Domain"})),i.a.createElement(j.a.Item,{shouldUpdate:!0},(function(){return i.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Add more")})))})),je=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={enviromentValue:"awdwad",domainValue:"awdwd",editting:0},e.componentDidMount=function(){e.props.getDomainList(e.props.manageContent.partnerId)},e.UNSAFE_componentWillReceiveProps=function(t){t.manageContent.partnerId!==e.props.manageContent.partnerId&&e.props.getDomainList(t.manageContent.partnerId)},e.delete=function(t){console.log(t),e.props.deleteDomain(t.key)},e.edit=function(t){console.log(t),e.setState({editting:t.key,enviromentValue:t.enviroment,domainValue:t.domain})},e.submitEdit=function(t){console.log(e.state.enviromentValue),console.log(e.state.domainValue),e.props.editDomain({_id:t.key,enviroment:e.state.enviromentValue,domain:e.state.domainValue}),e.setState({editting:"0"})},e.cancelEdit=function(t){e.setState({editting:"0"})},e.onChangeDomain=function(t){e.setState({domainValue:t.target.value})},e.onChangeEnviroment=function(t){e.setState({enviromentValue:t.target.value})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.manageContent.domainList.map((function(e,t){return{key:e._id.toString(),domain:e.domain,enviroment:e.enviroment}}));return i.a.createElement("div",{className:"domain_list"},i.a.createElement(Le,{partnerId:this.props.manageContent.partnerId}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(Ie.a,{dataSource:t,pagination:!1},i.a.createElement(_e,{title:"Enviroment",dataIndex:"enviroment",key:"enviroment",width:"300px",render:function(t,n){return e.state.editting!==n.key?t:i.a.createElement(y.a,{value:e.state.enviromentValue,onChange:e.onChangeEnviroment,size:"middle"})}}),i.a.createElement(_e,{title:"Domain",dataIndex:"domain",key:"domain",width:"400px",render:function(t,n){return e.state.editting!==n.key?i.a.createElement("a",{href:t},t):i.a.createElement(y.a,{value:e.state.domainValue,onChange:e.onChangeDomain,size:"middle"})}}),i.a.createElement(_e,{title:"Action",key:"action",render:function(t,n){return e.state.editting!==t.key?i.a.createElement(ge.a,{size:"middle"},i.a.createElement("a",{onClick:function(){return e.edit(n)}},"Edit"),i.a.createElement(Ee.a,{title:"Sure to delete?",onConfirm:function(){return e.delete(t)}},i.a.createElement("a",null,"Delete"))):i.a.createElement(ge.a,{size:"middle"},i.a.createElement("a",{onClick:function(){return e.submitEdit(n)}},"Ok"),i.a.createElement("a",{onClick:function(){return e.cancelEdit(n)}},"Cancel"))}})))}}]),n}(i.a.Component),ye=Object(g.b)((function(e){return{manageContent:e.manageContent}}),(function(e){return{getDomainList:function(t){e(ue(t))},editDomain:function(t){e(function(e){return{type:"EDIT_DOMAIN",domain:e}}(t))},deleteDomain:function(t){e(function(e){return{type:"DELETE_DOMAIN",id:e}}(t))}}}))(je),Ae=(n(402),function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.getManageContent(a.props.manageContent.partnerId)},a.showAvatar=function(e){return e.map((function(e,t){if("content"!==e.fieldName)return i.a.createElement(J.a,{xs:24,sm:12,md:8,lg:4,key:t},i.a.createElement(ae,{label:e.label,name:e.name,hospital:a.props.manageContent.partnerId,type:e.type,fieldName:e.fieldName,typeUrl:e.typeUrl}))}))},a.state={isLogin:!0},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.manageContent.content.length>0?this.props.manageContent.content:[];return i.a.createElement(E.a,{justify:"center"},i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:22},i.a.createElement(E.a,{gutter:[0,32]},i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:24},i.a.createElement(E.a,{justify:"center"},i.a.createElement(J.a,{xs:24,sm:24,md:22,lg:8},i.a.createElement(be,{changeHospital:this.changeHospital,default:this.props.manageContent.partnerId})),i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:16},i.a.createElement(me,null)))),i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:24},i.a.createElement("div",{className:"hospital_image"},i.a.createElement(E.a,null,this.showAvatar(e),i.a.createElement(J.a,{xs:24,sm:12,md:8,lg:4},i.a.createElement(ie,{label:"content.json",name:"content",hospital:this.props.manageContent.partnerId,type:"application/json",fieldName:"content",action:"upload"}))))),i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:24},i.a.createElement(ye,null)))))}}]),n}(i.a.Component)),Ce=Object(g.b)((function(e){return{manageContent:e.manageContent,subfolAppIcons:e.subfolAppIcons}}),(function(e){return{getManageContent:function(t){e(le(t))}}}))(Ae),Se=function(e){return{type:"GET_LIST_FILE",payload:e}};function we(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}var xe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,imageUrl:"".concat(z.DOMAIN_URL,"/static/upload/").concat(e.props.subfol.replace(/-/g,"/"),"/").concat(e.props.name)},e.UNSAFE_componentWillReceiveProps=function(t){var n=t.subfol.replace(/-/g,"/");e.setState({imageUrl:"".concat(z.DOMAIN_URL,"/static/upload/").concat(n,"/").concat(t.name,"?").concat((new Date).getTime())})},e.handleChange=function(t){"uploading"!==t.file.status?("done"===t.file.status&&(we(t.file.originFileObj,(function(t){e.setState({imageUrl:"".concat(z.DOMAIN_URL,"/static/upload/").concat(e.props.subfol.replace(/-/g,"/"),"/").concat(e.props.name,"?").concat((new Date).getTime()),loading:!1})})),e.props.name||e.props.getNewListFile()),"error"===t.file.status&&401===t.file.error.status&&Q.a.error("You are not loggin!")):e.setState({loading:!0})},e.beforeUpload=function(t){var n="image/png"===t.type||"image/svg+xml"===t.type||"application/json"===t.type||"image/jpeg"===t.type;n||Q.a.error("You can only upload image/png, image/svg+xml, image/jpeg or application/json file!");var a=!0;if(e.props.name&&t.name.split(".").slice(-1)[0]!==e.props.name.split(".").slice(-1)[0]){a=!1;Q.a.error("Have to be the same type!")}var r=t.size/1024/1024<5;return r||Q.a.error("Image must smaller than 5MB!"),n&&r&&a},e}return Object(m.a)(n,[{key:"render",value:function(){var e=i.a.createElement("div",null,this.state.loading?i.a.createElement(Z.a,null):i.a.createElement(ee.a,null),i.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return i.a.createElement("div",{className:"upload"},i.a.createElement($.a,{name:this.props.fieldName,listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat(z.DOMAIN_URL,"/").concat(this.props.action),headers:{name:this.props.name,subfol:this.props.subfol.replace(/-/g,"/"),token:"".concat(localStorage.getItem("token"))},beforeUpload:this.beforeUpload,onChange:this.handleChange},t?i.a.createElement("img",{src:t,alt:"",style:{maxHeight:"86px",maxWidth:"86px"}}):e),i.a.createElement("p",null,this.props.label),i.a.createElement("br",null))}}]),n}(i.a.Component),Te=Object(g.b)(null,(function(e){return{getListFile:function(){e(Se())},getNewListFile:function(){e({type:"GET_NEW_LIST_FILE"})}}}))(Object(h.f)(xe)),ke=de.a.Option,Ue=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.getListFile(e.props.subfolAppIcons.subfolAppIcons),e.props.listSubFol()},e.handleChange=function(t){e.props.getListFile(t)},e.showOption=function(e){return e.map((function(e,t){return i.a.createElement(ke,{value:e.value,key:t},e.name)}))},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.subfolAppIcons.listSubFol.map((function(e,t){var n=e.slice(22).length>0?e.slice(22):"(root)";return{value:e.replace(/\//g,"-").slice(22),name:n}}));return i.a.createElement(de.a,{defaultValue:this.props.subfolAppIcons.subfolAppIcons,style:{width:320},onChange:this.handleChange,size:"middle"},this.showOption(e))}}]),n}(i.a.Component),Ne=Object(g.b)((function(e){return{subfolAppIcons:e.subfolAppIcons}}),(function(e){return{getListFile:function(t){e(Se(t))},listSubFol:function(){e({type:"GET_SUBFOL_LIST"})}}}))(Ue),Fe=(n(403),function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){},e.changeHospital=function(e){},e.showAppIconUpload=function(t){return t.map((function(t,n){return i.a.createElement(J.a,{xs:24,sm:12,md:8,lg:4,key:n},i.a.createElement(Te,{label:t,name:t,fieldName:"customUpload",action:"customUpload",subfol:"AppIcon/".concat(e.props.subfolAppIcons.subfolAppIcons)}))}))},e}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement(E.a,{justify:"center"},i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:22},i.a.createElement(E.a,null,i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:24},i.a.createElement(E.a,{justify:"center"},i.a.createElement(Ne,null))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(J.a,{xs:24,sm:24,md:24,lg:24},i.a.createElement("div",{className:"image_appicon"},i.a.createElement(E.a,null,this.showAppIconUpload(this.props.subfolAppIcons.listFileAppIcons),i.a.createElement(J.a,{xs:24,sm:12,md:8,lg:4},i.a.createElement(Te,{label:"New File",fieldName:"customUpload",action:"customUpload",subfol:"AppIcon/".concat(this.props.subfolAppIcons.subfolAppIcons)}))))))))}}]),n}(i.a.Component)),De=Object(g.b)((function(e){return{manageContent:e.manageContent,subfolAppIcons:e.subfolAppIcons}}),(function(e){return{getManageContent:function(t){e(le(t))}}}))(Fe),Me=[{path:"/login",exact:!1,main:function(e){return i.a.createElement(X,e)}},{path:"/hospital-content",exact:!1,main:function(e){return i.a.createElement(Ce,e)}},{path:"/app-icon",exact:!1,main:function(e){return i.a.createElement(De,e)}}],Re=n(57),Ge=Object(Re.a)(),He=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.checkAuth()},e.showContentMenus=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return i.a.createElement(h.a,{key:t,path:e.path,exact:e.exact,render:e.main})}))),i.a.createElement(h.c,null,t)},e}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement(b.a,{history:Ge},i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"PKH Content Management"),i.a.createElement(_,null),i.a.createElement("br",null),i.a.createElement("br",null),this.showContentMenus(Me)))}}]),n}(i.a.Component),Pe=Object(g.b)(null,(function(e){return{checkAuth:function(){e({type:"CHECK_AUTH"})}}}))(He);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ve=n(68),We=n(8),Ke=n.n(We),ze=n(6),Be=n(159),Ye=function(){var e=Object(Be.a)(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(Be.a)(Ke.a.mark((function e(t,n){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.post(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xe=function(e){return Ye(e)},Je=Ke.a.mark(Ze),$e=Ke.a.mark(et),Qe=Ke.a.mark(tt);function Ze(e){var t,n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ze.b)(Xe,"".concat(z.RESTFULL_API_URL_V2,"/mongo/hospital/list"));case 3:if(200===(t=e.sent).status&&!t.data.error_code){e.next=6;break}throw new Error("L\u1ed7i server!");case 6:if(!t){e.next=11;break}return n=t.data,a=n.map((function(e,t){return{name:e.name,partnerId:e.partnerId}})),e.next=11,Object(ze.d)({type:"GET_HOSPITAL_LIST_SUCCESS",payload:a});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(ze.d)({type:"GET_HOSPITAL_LIST_FAIL",error:e.t0});case 17:case"end":return e.stop()}}),Je,null,[[0,13]])}function et(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("GET_HOSPITAL_LIST",Ze);case 2:case"end":return e.stop()}}),$e)}function tt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.a)([Object(ze.c)(et)]);case 2:case"end":return e.stop()}}),Qe)}var nt=function(e){return Ye(e)},at=function(e){return Ye(e)},rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return C()({method:e,url:t,data:n,headers:a})},ot=Ke.a.mark(bt),ct=Ke.a.mark(gt),st=Ke.a.mark(Et),it=Ke.a.mark(Ot),lt=Ke.a.mark(vt),ut=Ke.a.mark(It),pt=Ke.a.mark(_t),mt=Ke.a.mark(Lt),dt=Ke.a.mark(jt),ft=Ke.a.mark(yt),ht=Ke.a.mark(At);function bt(e){var t,n,a;return Ke.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(ze.b)(nt,"".concat(z.DOMAIN_URL,"/content/").concat(e.partnerId));case 3:if(200===(t=r.sent).status&&!t.data.error_code){r.next=6;break}throw new Error("L\u1ed7i server!");case 6:if(!t){r.next=11;break}return n=t.data,a=n.imageManage?n.imageManage:[],r.next=11,Object(ze.d)({type:"GET_MANAGE_CONTENT_SUCCESS",payload:a});case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(ze.d)({type:"GET_MANAGE_CONTENT_FAIL",error:r.t0});case 17:case"end":return r.stop()}}),ot,null,[[0,13]])}function gt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("GET_MANAGE_CONTENT",bt);case 2:case"end":return e.stop()}}),ct)}function Et(e){var t,n;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ze.b)(at,"".concat(z.DOMAIN_URL,"/domainList/").concat(e.partnerId));case 3:if(200===(t=a.sent).status&&!t.data.error_code){a.next=6;break}throw new Error("L\u1ed7i server!");case 6:if(!t){a.next=10;break}return n=t.data,a.next=10,Object(ze.d)({type:"GET_DOMAIN_LIST_SUCCESS",payload:n});case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(ze.d)({type:"GET_DOMAIN_LIST_FAIL",error:a.t0});case 16:case"end":return a.stop()}}),st,null,[[0,12]])}function Ot(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("GET_DOMAIN_LIST",Et);case 2:case"end":return e.stop()}}),it)}function vt(e){var t,n,a;return Ke.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.domain.partnerId,n=Object(Oe.a)({},e.domain),r.prev=2,r.next=5,Object(ze.b)(rt,"post","".concat(z.DOMAIN_URL,"/domainList"),n,{token:localStorage.getItem("token")});case 5:if(201===(a=r.sent).status){r.next=8;break}throw new Error("L\u1ed7i server!");case 8:if(!a){r.next=11;break}return r.next=11,Object(ze.d)({type:"GET_DOMAIN_LIST",partnerId:t});case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),401===r.t0.response.status&&Q.a.error("You are not loggin!");case 16:case"end":return r.stop()}}),lt,null,[[2,13]])}function It(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("ADD_DOMAIN",vt);case 2:case"end":return e.stop()}}),ut)}function _t(e){var t,n,a;return Ke.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ze.e)((function(e){return e.manageContent.partnerId}));case 2:return t=r.sent,n=Object(Oe.a)({},e.domain),r.prev=4,r.next=7,Object(ze.b)(rt,"put","".concat(z.DOMAIN_URL,"/domainList"),n,{token:localStorage.getItem("token")});case 7:if(a=r.sent,console.log(a),!a){r.next=12;break}return r.next=12,Object(ze.d)({type:"GET_DOMAIN_LIST",partnerId:t});case 12:r.next=18;break;case 14:r.prev=14,r.t0=r.catch(4),console.log(r.t0.response.status),401===r.t0.response.status&&Q.a.error("You are not loggin!");case 18:case"end":return r.stop()}}),pt,null,[[4,14]])}function Lt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("EDIT_DOMAIN",_t);case 2:case"end":return e.stop()}}),mt)}function jt(e){var t,n,a;return Ke.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ze.e)((function(e){return e.manageContent.partnerId}));case 2:return t=r.sent,n=e.id,r.prev=4,r.next=7,Object(ze.b)(rt,"delete","".concat(z.DOMAIN_URL,"/domainList/").concat(n),{},{token:localStorage.getItem("token")});case 7:if(200===(a=r.sent).status){r.next=10;break}throw new Error("L\u1ed7i server!");case 10:if(!a){r.next=13;break}return r.next=13,Object(ze.d)({type:"GET_DOMAIN_LIST",partnerId:t});case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(4),401===r.t0.response.status&&Q.a.error("You are not loggin!");case 18:case"end":return r.stop()}}),dt,null,[[4,15]])}function yt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("DELETE_DOMAIN",jt);case 2:case"end":return e.stop()}}),ft)}function At(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.a)([Object(ze.c)(gt),Object(ze.c)(Ot),Object(ze.c)(It),Object(ze.c)(Lt),Object(ze.c)(yt)]);case 2:case"end":return e.stop()}}),ht)}var Ct=function(e){return Ye(e)},St=Ke.a.mark(Ft),wt=Ke.a.mark(Dt),xt=Ke.a.mark(Mt),Tt=Ke.a.mark(Rt),kt=Ke.a.mark(Gt),Ut=Ke.a.mark(Ht),Nt=Ke.a.mark(Pt);function Ft(e){var t,n,a,r,o;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ze.e)((function(e){return e.subfolAppIcons.subfolAppIcons}));case 3:return t=e.sent,n=t.length>0?"".concat(z.DOMAIN_URL,"/getListFile/client-upload-AppIcon-").concat(t):"".concat(z.DOMAIN_URL,"/getListFile/client-upload-AppIcon"),e.next=7,Object(ze.b)(Ct,n);case 7:if(200===(a=e.sent).status&&!a.data.error_code){e.next=10;break}throw new Error("L\u1ed7i server!");case 10:if(!a){e.next=15;break}return r=a.data,o=r.filter((function(e){return e})),e.next=15,Object(ze.d)({type:"GET_LIST_FILE_SUCCESS",payload:o});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Object(ze.d)({type:"GET_LIST_FILE_FAIL",error:e.t0});case 21:case"end":return e.stop()}}),St,null,[[0,17]])}function Dt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("GET_LIST_FILE",Ft);case 2:case"end":return e.stop()}}),wt)}function Mt(e){var t,n,a,r,o,c,s,i;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ze.e)((function(e){return e.subfolAppIcons.subfolAppIcons}));case 3:return t=e.sent,e.next=6,Object(ze.e)((function(e){return e.subfolAppIcons.listFileAppIcons}));case 6:return n=e.sent,a=t.length>0?"".concat(z.DOMAIN_URL,"/getListFile/client-upload-AppIcon-").concat(t):"".concat(z.DOMAIN_URL,"/getListFile/client-upload-AppIcon"),e.next=10,Object(ze.b)(Ct,a);case 10:if(200===(r=e.sent).status&&!r.data.error_code){e.next=13;break}throw new Error("L\u1ed7i server!");case 13:if(!r){e.next=21;break}return o=r.data,c=o.filter((function(e){return e})),s=n.filter((function(e){return-1!==c.indexOf(e)})),i=[],c.forEach((function(e){-1===s.indexOf(e)&&i.push(e)})),e.next=21,Object(ze.d)({type:"GET_NEW_LIST_FILE_SUCCESS",payload:[].concat(Object(re.a)(s),i)});case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(0),e.next=27,Object(ze.d)({type:"GET_NEW_LIST_FILE_FAIL",error:e.t0});case 27:case"end":return e.stop()}}),xt,null,[[0,23]])}function Rt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("GET_NEW_LIST_FILE",Mt);case 2:case"end":return e.stop()}}),Tt)}function Gt(e){var t,n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ze.b)(Ct,"".concat(z.DOMAIN_URL,"/getSubFol/client-upload-AppIcon"));case 3:if(200===(t=e.sent).status&&!t.data.error_code){e.next=6;break}throw new Error("L\u1ed7i server!");case 6:if(!t){e.next=10;break}return n=t.data,e.next=10,Object(ze.d)({type:"GET_SUBFOL_LIST_SUCCESS",payload:n});case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(ze.d)({type:"GET_SUBFOL_LIST_FAIL",error:e.t0});case 16:case"end":return e.stop()}}),kt,null,[[0,12]])}function Ht(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("GET_SUBFOL_LIST",Gt);case 2:case"end":return e.stop()}}),Ut)}function Pt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.a)([Object(ze.c)(Dt),Object(ze.c)(Rt),Object(ze.c)(Ht)]);case 2:case"end":return e.stop()}}),Nt)}var Vt=Ke.a.mark(zt),Wt=Ke.a.mark(Bt),Kt=Ke.a.mark(Yt);function zt(e){var t,n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ze.b)(qe,"".concat(z.DOMAIN_URL,"/checkAuth"),{token:localStorage.getItem("token")});case 3:if(201===(t=e.sent).status){e.next=6;break}throw new Error("L\u1ed7i server!");case 6:if(!t){e.next=10;break}return n=t.data,e.next=10,Object(ze.d)({type:"CHECK_AUTH_SUCCESS",payload:n.isLogin});case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(ze.d)({type:"CHECK_AUTH_FAIL"});case 16:case"end":return e.stop()}}),Vt,null,[[0,12]])}function Bt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)("CHECK_AUTH",zt);case 2:case"end":return e.stop()}}),Wt)}function Yt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.a)([Object(ze.c)(Bt)]);case 2:case"end":return e.stop()}}),Kt)}var qt=Ke.a.mark(Xt);function Xt(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.a)([Object(ze.c)(tt),Object(ze.c)(At),Object(ze.c)(Pt),Object(ze.c)(Yt)]);case 2:case"end":return e.stop()}}),qt)}var Jt={username:{value:""},password:{value:""}};var $t=[];var Qt={partnerId:localStorage.getItem("hospital")||"dkkvangiang",content:[],domainList:[],error:""};var Zt={subfolAppIcons:"image",listFileAppIcons:[],listSubFol:[]};var en=Object(Ve.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_FIELD_LOGIN":return Object(Oe.a)(Object(Oe.a)({},e),t.payload);default:return e}},hospitalList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_HOSPITAL_LIST":return Object(re.a)(e);case"GET_HOSPITAL_LIST_SUCCESS":return Object(re.a)(t.payload);case"GET_HOSPITAL_LIST_FAIL":return Object(re.a)(e);default:return e}},manageContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_MANAGE_CONTENT":return Object(Oe.a)(Object(Oe.a)({},e),{},{partnerId:t.partnerId});case"GET_MANAGE_CONTENT_SUCCESS":return Object(Oe.a)(Object(Oe.a)({},e),{},{content:t.payload});case"GET_MANAGE_CONTENT_FAIL":return Object(Oe.a)(Object(Oe.a)({},e),{},{error:"error"});case"GET_DOMAIN_LIST_SUCCESS":return Object(Oe.a)(Object(Oe.a)({},e),{},{domainList:t.payload});case"GET_DOMAIN_LIST_FAIL":return Object(Oe.a)(Object(Oe.a)({},e),{},{error:"error"});default:return e}},subfolAppIcons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_LIST_FILE":return Object(Oe.a)(Object(Oe.a)({},e),{},{subfolAppIcons:t.payload});case"GET_LIST_FILE_SUCCESS":return Object(Oe.a)(Object(Oe.a)({},e),{},{listFileAppIcons:t.payload});case"GET_LIST_FILE_FAIL":return Object(Oe.a)(Object(Oe.a)({},e),{},{error:"error"});case"GET_NEW_LIST_FILE":return Object(Oe.a)({},e);case"GET_NEW_LIST_FILE_SUCCESS":return Object(Oe.a)(Object(Oe.a)({},e),{},{listFileAppIcons:t.payload});case"GET_NEW_LIST_FILE_FAIL":return Object(Oe.a)(Object(Oe.a)({},e),{},{error:"error"});case"GET_SUBFOL_LIST_SUCCESS":return Object(Oe.a)(Object(Oe.a)({},e),{},{listSubFol:t.payload});case"GET_SUBFOL_LIST_FAIL":return Object(Oe.a)(Object(Oe.a)({},e),{},{error:"error"});default:return e}},checkAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHECK_AUTH_SUCCESS":return t.payload;case"CHECK_AUTH_FAIL":return!1;case"SET_LOGIN":return t.isLogin;default:return e}}}),tn=n(211),nn=n(209),an=Object(tn.a)(),rn=Object(nn.composeWithDevTools)({}),on=Object(Ve.createStore)(en,rn(Object(Ve.applyMiddleware)(an)));an.run(Xt),u.a.render(i.a.createElement(g.a,{store:on},i.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[215,1,2]]]);
//# sourceMappingURL=main.2d9f6ac1.chunk.js.map