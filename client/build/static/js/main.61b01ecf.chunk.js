(this.webpackJsonpmedpro_form_content=this.webpackJsonpmedpro_form_content||[]).push([[0],{163:function(e,t,n){e.exports=n(325)},168:function(e,t,n){},169:function(e,t,n){},233:function(e,t,n){},255:function(e,t,n){},325:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"DOMAIN_URL",(function(){return I})),n.d(a,"COOKIE_EXPIRES",(function(){return j})),n.d(a,"SOCKET_CHAT",(function(){return L}));var o={};n.r(o),n.d(o,"DOMAIN_URL",(function(){return S})),n.d(o,"COOKIE_EXPIRES",(function(){return k})),n.d(o,"SOCKET_CHAT",(function(){return C}));var r={};n.r(r),n.d(r,"DOMAIN_URL",(function(){return A})),n.d(r,"RESTFULL_API_URL",(function(){return N})),n.d(r,"COOKIE_EXPIRES",(function(){return R})),n.d(r,"SOCKET_CHAT",(function(){return F}));var l={};n.r(l),n.d(l,"DOMAIN_URL",(function(){return M})),n.d(l,"RESTFULL_API_URL",(function(){return x})),n.d(l,"COOKIE_EXPIRES",(function(){return D})),n.d(l,"SOCKET_CHAT",(function(){return T}));var i=n(0),c=n.n(i),s=n(12),u=n.n(s),p=(n(168),n(48)),m=n(49),h=n(53),d=n(52),g=(n(169),n(20)),f=n(108),v=(n(170),n(154)),b=(n(172),n(153)),y=n(65),O=[{label:"Header Logo",name:"header_logo",type:"image/svg+xml",typeUrl:"svg",require:!1,fieldName:"logo"},{label:"Banner For Desktop",name:"banner_desktop",type:"image/png",typeUrl:"png",require:!1,fieldName:"image"},{label:"Banner For Mobile",name:"banner_mobile",type:"image/png",typeUrl:"png",require:!1,fieldName:"image"},{label:"Slide",name:"slide",type:"image/png",typeUrl:"png",require:!1,fieldName:"image"},{label:"Logo Header White",name:"logo_header_white",type:"image/svg+xml",typeUrl:"svg",require:!1,fieldName:"logo"},{label:"Footer Logo",name:"footer_logo",type:"image/svg+xml",typeUrl:"svg",require:!1,fieldName:"logo"},{label:"Payment bill",name:"payment_bill",type:"image/png",typeUrl:"png",require:!1,fieldName:"image"},{label:"Bi\xean lai",name:"bien_lai",type:"image/png",typeUrl:"png",require:!1,fieldName:"image"},{label:"Content",name:"content",type:"application/json",typeUrl:"json",require:!1,fieldName:"content"}],E=(n(326),n(159)),w=(n(181),n(115)),U=n(330),_=n(331),I="localhost"===window.location.hostname?"http://".concat(window.location.hostname,":6700"):window.location.hostname,j=43200,L="wss://socket.pkh.vn/cable",S="https://static-inside-testing.medpro.com.vn",k=43200,C="wss://alpha-api.medpro.com.vn/cable",A="localhost"===window.location.hostname?"http://".concat(window.location.hostname,":6700"):window.location.hostname,N="https://static-inside-testing.medpro.com.vn",R=43200,F="wss://alpha-api.medpro.com.vn/cable",M="https://".concat(window.location.hostname,":3000"),x="https://static-inside-testing.medpro.com.vn",D=43200,T="wss://alpha-api.medpro.com.vn/cable",H={development:a,testing:r,staging:l,production:o},P=H.production;function q(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}var K=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1,imageUrl:"".concat(P.DOMAIN_URL,"/static/upload/hospitals/").concat(e.props.hospital,"/").concat(e.props.name,".").concat(e.props.typeUrl)},e.handleChange=function(t){console.log(t),"uploading"!==t.file.status?"done"===t.file.status&&(q(t.file.originFileObj,(function(t){e.setState({imageUrl:t,loading:!1})})),localStorage.setItem("needRefresh","true")):e.setState({loading:!0})},e.beforeUpload=function(t){var n=t.type===e.props.type;n||w.a.error("You can only upload ".concat(e.props.type," file!"));var a=t.size/1024/1024<5;return a||w.a.error("Image must smaller than 5MB!"),n&&a},e.UNSAFE_componentWillReceiveProps=function(t){e.setState({imageUrl:"".concat(P.DOMAIN_URL,"/static/upload/hospitals/").concat(t.hospital,"/").concat(t.name,".").concat(e.props.typeUrl)})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=c.a.createElement("div",null,this.state.loading?c.a.createElement(U.a,null):c.a.createElement(_.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return c.a.createElement("div",{className:"upload"},c.a.createElement(E.a,{name:this.props.fieldName,listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat(P.DOMAIN_URL,"/upload"),headers:{hospital:this.props.hospital,name:this.props.name,token:"".concat(localStorage.getItem("token"))},beforeUpload:this.beforeUpload,onChange:this.handleChange},t?c.a.createElement("img",{src:t,alt:"",style:{maxHeight:"86px",maxWidth:"86px"}}):e),c.a.createElement("p",null,this.props.label),c.a.createElement("br",null))}}]),n}(c.a.Component),B=(n(327),n(113)),W=[{name:"Medpro",value:"medpro"},{name:"Tr\u01b0ng V\u01b0\u01a1ng",value:"trungvuong"},{name:"L\xea L\u1ee3i",value:"leloi"},{name:"An Giang",value:"dkkvangiang"},{name:"\u0110\u1ea1i h\u1ecdc y d\u01b0\u1ee3c",value:"yduoccs2"},{name:"V\u1ea1n H\u1ea1nh",value:"vanhanh"},{name:"Ch\u1ee3 R\u1eaby",value:"choray"},{name:"UMC",value:"umc"},{name:"Nhi \u0111\u1ed3ng 1",value:"nhidong1"},{name:"B\u1ec7nh vi\u1ec7n 115",value:"bv115"}],V=B.a.Option,X=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.changeHospital("".concat(t))},e.showOption=function(){return W.map((function(e,t){return c.a.createElement(V,{value:e.value,key:t},e.name)}))},e}return Object(m.a)(n,[{key:"render",value:function(){return c.a.createElement(B.a,{defaultValue:this.props.default,style:{width:120},onChange:this.handleChange},this.showOption())}}]),n}(c.a.Component),G=(n(233),n(71)),J=n.n(G),Z=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){J.a.post("".concat(P.DOMAIN_URL,"/checkAuth"),{token:localStorage.getItem("token")}).then((function(e){a.setState({isLogin:e.data.isLogin})})).catch((function(e){a.setState({isLogin:!1})}))},a.changeHospital=function(e){localStorage.setItem("hospital",e),a.setState({hospital:e}),"true"===localStorage.getItem("needRefresh")&&(localStorage.setItem("needRefresh","false"),window.location.reload())},a.showAvatar=function(){return O.map((function(e,t){return c.a.createElement(b.a,{xs:24,sm:12,md:8,lg:4,key:t},c.a.createElement(K,{label:e.label,name:e.name,hospital:a.state.hospital,type:e.type,fieldName:e.fieldName,typeUrl:e.typeUrl}))}))},a.state={hospital:localStorage.getItem("hospital")||"dkkvangiang",isLogin:!0},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state.isLogin;return c.a.createElement(c.a.Fragment,null,e?c.a.createElement("div",null,c.a.createElement(X,{changeHospital:this.changeHospital,default:this.state.hospital}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(v.a,null,this.showAvatar())):c.a.createElement(g.a,{to:{pathname:"/login"}}))}}]),n}(c.a.Component),z=Object(y.b)(null,null)(Z),Y=(n(99),n(58)),$=(n(251),n(74)),Q=(n(253),n(114)),ee=(n(255),{labelCol:{span:8},wrapperCol:{span:8}}),te={wrapperCol:{offset:8,span:16}},ne=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onFinish=function(t){J.a.post("".concat(P.DOMAIN_URL,"/login"),{username:t.username,password:t.password}).then((function(t){t.data&&(localStorage.setItem("token",t.data),e.props.history.push("/"))})).catch((function(e){console.log(e)}))},e.onFinishFailed=function(e){console.log("Failed:",e)},e.componentDidMount=function(){J.a.post("".concat(P.DOMAIN_URL,"/checkAuth"),{token:localStorage.getItem("token")}).then((function(t){e.setState({isLogin:t.data.isLogin})})).catch((function(t){e.setState({isLogin:!1})}))},e}return Object(m.a)(n,[{key:"render",value:function(){return c.a.createElement($.a,Object.assign({},ee,{name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed}),c.a.createElement($.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},c.a.createElement(Q.a,null)),c.a.createElement($.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},c.a.createElement(Q.a.Password,null)),c.a.createElement($.a.Item,te,c.a.createElement(Y.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),n}(c.a.Component),ae=Object(y.b)((function(e){return{login:e.login}}),(function(e){return{checkZabbixToken:function(e){},loginZabbix:function(){},onSaveFieldLogin:function(e){}}}))(ne),oe=[{path:"/",exact:!0,main:function(){return c.a.createElement(z,null)}},{path:"/login",exact:!1,main:function(e){var t=e.history;return c.a.createElement(ae,{history:t})}}],re=n(40),le=Object(re.a)(),ie=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).showContentMenus=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return c.a.createElement(g.b,{key:t,path:e.path,exact:e.exact,render:e.main})}))),c.a.createElement(g.d,null,t)},e}return Object(m.a)(n,[{key:"render",value:function(){return c.a.createElement(f.a,{history:le},c.a.createElement("div",{className:"App"},this.showContentMenus(oe)))}}]),n}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=n(50),se=n(112),ue=n.n(se),pe=n(161),me=ue.a.mark(he);function he(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pe.a)([]);case 2:case"end":return e.stop()}}),me)}var de=n(116),ge={username:{value:""},password:{value:""}};var fe=Object(ce.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_FIELD_LOGIN":return Object(de.a)(Object(de.a)({},e),t.payload);default:return e}}}),ve=n(160),be=n(158),ye=Object(ve.a)(),Oe=Object(be.composeWithDevTools)({}),Ee=Object(ce.createStore)(fe,Oe(Object(ce.applyMiddleware)(ye)));ye.run(he),u.a.render(c.a.createElement(y.a,{store:Ee},c.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.61b01ecf.chunk.js.map